<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DDog Clicker</title>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        height: 100%;
        font-family: Arial, sans-serif;
        background-color: #f0f0f0;
      }
      .game-container {
        display: flex;
        height: 100vh;
      }
      .main-area {
        flex: 2;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        text-align: center;
        background-image: url('file:///C:/Users/dylew/OneDrive/Pictures/ddogdabber_background.jpg');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        color: white;
        position: relative;
      }
      .main-area::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 1;
      }
      .main-area > * {
        position: relative;
        z-index: 2;
      }
      .upgrade-area {
        flex: 1;
        background-color: #797979; /* Light grey background */
        padding: 20px;
        box-shadow: -5px 0 10px rgba(0,0,0,0.1);
        overflow-y: auto;
      }
      h1 { color: #4da6ff; }
      button {
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.1s;
      }
      button:hover { background-color: #45a049; }
      button:active { transform: scale(0.95); }
      button:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
      }
      #clickButton {
        font-size: 24px;
        padding: 20px 40px;
        background-color: #4da6ff; /* Match the color of the title */
      }
      #clickButton:hover {
        background-color: #3385ff; /* Darker shade for hover effect */
      }
      
      #treatContainer {
        position: absolute;
        z-index: 1000;
        cursor: pointer;
        display: none;
      }
      
      #treat {
        width: 50px;
        height: 50px;
        background-color: #8B4513;
        border-radius: 25%;
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-weight: bold;
      }
      
      #prestigeButton {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #FFD700;
        color: #000;
        font-weight: bold;
      }
      
      #prestigeMultiplier {
        position: absolute;
        bottom: 70px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 18px;
        color: #FFD700;
      }
      
      #boostTimer {
        position: absolute;
        bottom: 10px;
        left: 10px;
        font-size: 16px;
        color: #FFD700;
        display: none;
      }
      
      #youtubeLink {
        position: absolute;
        bottom: 10px;
        right: 10px;
        width: 40px;
        height: 40px;
        background-image: url('data:image/svg+xml;charset=UTF-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z" fill="red"/></svg>');
        background-size: cover;
        cursor: pointer;
        transition: transform 0.2s;
      }
      
      #youtubeLink:hover {
        transform: scale(1.1);
      }
    </style>
  </head>
  <body>
    <div class="game-container">
      <div class="main-area">
        <h1>DDog Clicker</h1>
        <p>Dogs: <span id="dogCount">0</span></p>
        <p>Dogs per second: <span id="dogsPerSecond">0</span></p>
        <button id="clickButton">Pet Dog!</button>
        <div id="treatContainer">
          <div id="treat">ðŸ¦´</div>
        </div>
        <p id="prestigeMultiplier">Prestige Multiplier: x1</p>
        <button id="prestigeButton">Prestige</button>
        <div id="boostTimer"></div>
        <a id="youtubeLink" href="https://www.youtube.com/ddogdabber" target="_blank" rel="noopener noreferrer"></a>
      </div>
      <div class="upgrade-area" id="upgradeArea">
        <!-- Upgrade buttons will be dynamically added here -->
      </div>
    </div>
    <script>
      let dogs = 0;
      let dogsPerClick = 1;
      let dogsPerSecond = 0;
      let prestigeMultiplier = 1;
      let totalClicks = 0;
      let boostActive = false;
      let boostMultiplier = 1;
      let boostTimeLeft = 0;
      let boostInterval;

      const upgrades = [
        { id: 'toyBall', name: 'Toy Ball', baseCost: 15, baseIncome: 0.1, count: 0 },
        { id: 'dogBed', name: 'Comfy Dog Bed', baseCost: 100, baseIncome: 1, count: 0 },
        { id: 'dogPark', name: 'Dog Park', baseCost: 1100, baseIncome: 8, count: 0 },
        { id: 'groomingSalon', name: 'Grooming Salon', baseCost: 12000, baseIncome: 47, count: 0 },
        { id: 'doggyDaycare', name: 'Doggy Daycare', baseCost: 130000, baseIncome: 260, count: 0 },
        { id: 'vetClinic', name: 'Veterinary Clinic', baseCost: 1400000, baseIncome: 1400, count: 0 },
        { id: 'breedingCenter', name: 'Breeding Center', baseCost: 20000000, baseIncome: 7800, count: 0 },
        { id: 'dogShow', name: 'Dog Show', baseCost: 330000000, baseIncome: 44000, count: 0 },
        { id: 'rescueShelter', name: 'Rescue Shelter', baseCost: 5100000000, baseIncome: 260000, count: 0 },
        { id: 'dogIsland', name: 'Dog Island', baseCost: 75000000000, baseIncome: 1600000, count: 0 },
        { id: 'dogPlanet', name: 'Dog Planet', baseCost: 1000000000000, baseIncome: 10000000, count: 0 },
      ];

      function saveGame() {
        const gameState = {
          dogs,
          dogsPerClick,
          dogsPerSecond,
          prestigeMultiplier,
          totalClicks,
          upgrades: upgrades.map(u => ({ id: u.id, count: u.count })),
          boostTimeLeft,
          boostActive,
          boostMultiplier
        };
        localStorage.setItem('ddogClickerSave', JSON.stringify(gameState));
      }

      function loadGame() {
        const savedGame = localStorage.getItem('ddogClickerSave');
        if (savedGame) {
          const gameState = JSON.parse(savedGame);
          dogs = gameState.dogs;
          dogsPerClick = gameState.dogsPerClick;
          dogsPerSecond = gameState.dogsPerSecond;
          prestigeMultiplier = gameState.prestigeMultiplier;
          totalClicks = gameState.totalClicks;
          boostTimeLeft = gameState.boostTimeLeft || 0;
          boostActive = gameState.boostActive || false;
          boostMultiplier = gameState.boostMultiplier || 1;
          gameState.upgrades.forEach(savedUpgrade => {
            const upgrade = upgrades.find(u => u.id === savedUpgrade.id);
            if (upgrade) {
              upgrade.count = savedUpgrade.count;
            }
          });
          if (boostActive && boostTimeLeft > 0) {
            startBoost();
          }
          updateDisplay();
        }
      }

      function updateDisplay() {
        document.getElementById('dogCount').textContent = Math.floor(dogs);
        document.getElementById('dogsPerSecond').textContent = (dogsPerSecond * prestigeMultiplier).toFixed(1);
        document.getElementById('prestigeMultiplier').textContent = `Prestige Multiplier: x${prestigeMultiplier.toFixed(2)}`;
        document.getElementById('prestigeButton').disabled = totalClicks < 1000000;
        upgrades.forEach(upgrade => {
          const button = document.getElementById(upgrade.id);
          if (button) {
            button.textContent = `${upgrade.name}: ${upgrade.count} (Cost: ${Math.ceil(upgrade.baseCost * Math.pow(1.15, upgrade.count))} dogs)`;
            button.disabled = dogs < Math.ceil(upgrade.baseCost * Math.pow(1.15, upgrade.count));
          }
        });
      }

      function incrementDogs() {
        dogs += dogsPerClick * boostMultiplier * prestigeMultiplier;
        totalClicks++;
        updateDisplay();
      }

      function buyUpgrade(upgradeId) {
        const upgrade = upgrades.find(u => u.id === upgradeId);
        const cost = Math.ceil(upgrade.baseCost * Math.pow(1.15, upgrade.count));
        if (dogs >= cost) {
          dogs -= cost;
          upgrade.count++;
          dogsPerSecond += upgrade.baseIncome;
          updateDisplay();
        }
      }

      function createUpgradeButtons() {
        const upgradeArea = document.getElementById('upgradeArea');
        upgrades.forEach(upgrade => {
          const button = document.createElement('button');
          button.id = upgrade.id;
          button.addEventListener('click', () => buyUpgrade(upgrade.id));
          upgradeArea.appendChild(button);
        });
      }

      function gameLoop() {
        dogs += (dogsPerSecond * prestigeMultiplier * boostMultiplier) / 10; // Update 10 times per second for smoother counting
        updateDisplay();
      }

      document.addEventListener('DOMContentLoaded', function() {
        loadGame();
        document.getElementById('clickButton').addEventListener('click', incrementDogs);
        document.getElementById('prestigeButton').addEventListener('click', prestige);
        document.getElementById('treatContainer').addEventListener('click', clickTreat);
        createUpgradeButtons();
        updateDisplay();
        setInterval(gameLoop, 100); // Run the game loop every 100ms
        setInterval(saveGame, 60000); // Auto-save every minute
      });

      function prestige() {
        if (totalClicks >= 1000000) {
          const newMultiplier = Math.log10(totalClicks / 1000000) + 1;
          const confirmPrestige = confirm(`Are you sure you want to prestige? 
            Your current multiplier: x${prestigeMultiplier.toFixed(2)}
            New multiplier: x${newMultiplier.toFixed(2)}`);
          
          if (confirmPrestige) {
            prestigeMultiplier = newMultiplier;
            dogs = 0;
            dogsPerClick = 1;
            dogsPerSecond = 0;
            totalClicks = 0;
            // Reset upgrades and other game progress here
            updateDisplay();
            alert(`Prestiged! Your new multiplier is x${prestigeMultiplier.toFixed(2)}`);
          }
        } else {
          alert("You need at least 1,000,000 total clicks to prestige!");
        }
      }

      function spawnTreat() {
        const treatContainer = document.getElementById('treatContainer');
        const mainArea = document.querySelector('.main-area');
        const maxX = mainArea.offsetWidth - 50;
        const maxY = mainArea.offsetHeight - 50;
        
        treatContainer.style.left = Math.random() * maxX + 'px';
        treatContainer.style.top = Math.random() * maxY + 'px';
        treatContainer.style.display = 'block';
        
        setTimeout(() => {
          treatContainer.style.display = 'none';
        }, 5000); // Treat disappears after 5 seconds if not clicked
      }

      function clickTreat() {
        const treatContainer = document.getElementById('treatContainer');
        treatContainer.style.display = 'none';
        
        if (Math.random() < 0.5) {
          // 2x boost for a minute
          startBoost();
          alert('You got a 2x boost for 1 minute!');
        } else {
          // Bonus clicks based on progress
          const bonusClicks = Math.floor(Math.log(dogs + 1) * 10);
          dogs += bonusClicks;
          alert(`You got ${bonusClicks} bonus clicks!`);
        }
        updateDisplay();
      }

      function updateBoostTimer() {
        const timerElement = document.getElementById('boostTimer');
        if (boostTimeLeft > 0) {
          const minutes = Math.floor(boostTimeLeft / 60);
          const seconds = boostTimeLeft % 60;
          timerElement.textContent = `Boost: ${minutes}:${seconds.toString().padStart(2, '0')}`;
          timerElement.style.display = 'block';
          boostTimeLeft--;
        } else {
          timerElement.style.display = 'none';
          clearInterval(boostInterval);
          boostActive = false;
          boostMultiplier = 1;
        }
      }

      function startBoost() {
        boostActive = true;
        boostMultiplier = 2;
        boostTimeLeft = 60; // 60 seconds boost
        updateBoostTimer();
        boostInterval = setInterval(updateBoostTimer, 1000);
      }

      // Spawn a treat every 30 to 90 seconds
      setInterval(() => {
        if (Math.random() < 0.5) {
          spawnTreat();
        }
      }, 30000);
    </script>
  </body>
</html>
